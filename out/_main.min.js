function activate(e){status.create(e),commands.register(e),cfg=config.load(),cfg.user.name&&(user=cfg.user.name);let a=user.replace(/[^a-zA-Z0-9]/g,"");userf=a.substring(0,32),files.usrLoad(userf),files.wspLoad(),lang=language.get(),status.update(0,lang)}function deactivate(){}const vc=require("vscode"),commands=require("./commands.min.js"),config=require("./config.min.js"),data=require("./data.min.js"),files=require("./files.min.js"),language=require("./language.min.js"),lvlogic=require("./lvlogic.min.js"),status=require("./status.min.js"),views=require("./views.min.js");var lang=!1,cfg={},user="user",userf="user";vc.workspace.onDidChangeConfiguration(()=>{let e="user";if(cfg.user.name)var a=cfg.user.name;else a=e;if(cfg.user.tracking)var c=cfg.user.levelMod;if(cfg.user.trackLanguage)var g=cfg.user.levelModLanguage;if(cfg.workspace.tracking)var r=cfg.workspace.levelMod;if(cfg.workspace.trackLanguage)var s=cfg.workspace.levelModLanguage;if(cfg=config.load(),cfg.user.name)var i=cfg.user.name;else i=e;if(cfg.user.tracking)var l=cfg.user.levelMod;if(cfg.user.trackLanguage)var u=cfg.user.levelModLanguage;if(cfg.workspace.tracking)var n=cfg.workspace.levelMod;if(cfg.workspace.trackLanguage)var t=cfg.workspace.levelModLanguage;if(l!=c&&cfg.user.tracking&&(lvlogic.userLevelFix(l),files.usrSave(a)),u!=g&&cfg.user.trackLanguage&&(lvlogic.userLanguageLevelFix(u),files.usrSave(a)),n!=r&&cfg.workspace.tracking&&(lvlogic.workspaceLevelFix(n),(cfg.workspace.tracking||cfg.workspace.trackLanguage)&&files.wspSave()),t!=s&&cfg.workspace.trackLanguage&&(lvlogic.workspaceLanguageLevelFix(t),(cfg.workspace.tracking||cfg.workspace.trackLanguage)&&files.wspSave()),i!=a&&vc.commands.executeCommand("workbench.action.reloadWindow"),status.refresh(),views.viewU)try{views.userUpdate()}catch(e){}if(views.viewW)try{views.workspaceUpdate()}catch(e){}}),vc.workspace.onDidChangeTextDocument(()=>{status.update(1,lang)}),vc.workspace.onDidSaveTextDocument(()=>{if(cfg.user.tracking&&data.usr.exp&&data.usr.lvl){var e=10;cfg.user.levelMod&&(e=cfg.user.levelMod),lvlogic.userLevelCheck(e)}if(cfg.workspace.tracking&&data.wsp.exp&&data.wsp.lvl){e=10;cfg.workspace.levelMod&&(e=cfg.workspace.levelMod),lvlogic.workspaceLevelCheck(e)}if(cfg.user.trackLanguage&&lang&&data.usr.langs[lang].exp&&data.usr.langs[lang].lvl){e=5;cfg.user.levelModLanguage&&(e=cfg.user.levelModLanguage),lvlogic.userLanguageLevelCheck(e,lang)}if(cfg.workspace.trackLanguage&&lang&&data.wsp.langs[lang].exp&&data.wsp.langs[lang].lvl){e=5;cfg.workspace.levelModLanguage&&(e=cfg.workspace.levelModLanguage),lvlogic.workspaceLanguageLevelCheck(e,lang)}if((cfg.user.tracking||cfg.user.trackLanguage)&&files.usrSave(userf),(cfg.workspace.tracking||cfg.workspace.trackLanguage)&&files.wspSave(),views.viewU)try{views.userUpdate()}catch(e){}if(views.viewW)try{views.workspaceUpdate()}catch(e){}}),vc.window.onDidChangeActiveTextEditor(()=>{if((cfg.user.tracking||cfg.user.trackLanguage)&&files.usrSave(userf),(cfg.workspace.tracking||cfg.workspace.trackLanguage)&&files.wspSave(),lang=language.get(),status.update(0,lang),views.viewU)try{views.userUpdate()}catch(e){}if(views.viewW)try{views.workspaceUpdate()}catch(e){}}),module.exports={activate:activate,deactivate:deactivate};