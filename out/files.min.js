function usrSave(s="user"){const r=String(dir)+String(s)+".json";var e=JSON.stringify(data.usr,null,2);fs.mkdir(path.resolve(__dirname,dir),s=>{s.arg0&&"EEXIST"!=s.arg0.code&&"ENOENT"!=s.arg0.code&&console.warn("CLV > Files > User folder error: "+s)}),fs.writeFileSync(path.resolve(__dirname,r),e,"utf8",s=>{s&&(vc.window.showErrorMessage("CLV couldn't save user file."),console.warn("CLV > Files > User save error: "+s))})}function usrLoad(s="user"){const r=String(dir)+String(s)+".json";if(!data.usr)return void console.warn("CLV > Files > Load: User data not found!");var e=data.usr;fs.mkdir(path.resolve(__dirname,dir),s=>{s.arg0&&"EEXIST"!=s.arg0.code&&console.warn("CLV > Files > User folder error: "+s)});try{e=JSON.parse(fs.readFileSync(path.resolve(__dirname,r),"utf8"))}catch(s){console.warn("CLV > Files > Load user "+s+". If the code is ENOENT, if it's your first time as this user, there's nothing to worry about!")}Object.assign(data.usr,e);const a=data.usr.langs,o=Object.keys(a).sort().reduce((s,r)=>(s[r]=a[r],s),{});data.usr.langs={},Object.assign(data.usr.langs,o)}function wspSave(){const s=vc.workspace.workspaceFolders[0].uri.path,r=s+"/.clvls";let e="";isWindows&&(e=r.substring(1));var a=JSON.stringify(data.wsp,null,2);if(null!=s)return isWindows?void fs.writeFileSync(e,a,"utf8",s=>{s&&(vc.window.showErrorMessage("CLV couldn't save workspace file."),console.warn("CLV > Files > Workspace save error: "+s))}):void fs.writeFileSync(r,a,"utf8",s=>{s&&(vc.window.showErrorMessage("CLV couldn't save workspace file."),console.warn("CLV > Files > Workspace save error: "+s))})}function wspLoad(){const s=vc.workspace.workspaceFolders[0].uri.path,r=s+"/.clvls";let e="";isWindows&&(e=r.substring(1));var a=data.wsp;if(null!=path)if(isWindows)try{a=JSON.parse(fs.readFileSync(e,"utf8"))}catch(s){console.warn("CLV > Files > Workspace load error: "+s+". If the code is ENOENT, if it never had a .clvls file, this is normal!")}else try{a=JSON.parse(fs.readFileSync(r,"utf8"))}catch(s){console.warn("CLV > Files > Workspace load error: "+s+". If the code is ENOENT, if it never had a .clvls file, this is normal!")}Object.assign(data.wsp,a);const o=data.wsp.langs,i=Object.keys(o).sort().reduce((s,r)=>(s[r]=o[r],s),{});data.wsp.langs={},Object.assign(data.wsp.langs,i)}const vc=require("vscode"),fs=require("fs");var path=require("path");const data=require("./data.min.js");var live=!1;try{const{ConsoleReporter:s}=require("@vscode/test-electron")}catch(s){live=!0}var isWindows=!1;vc.env.appRoot&&"/"!==vc.env.appRoot[0]&&(isWindows=!0);var dir="../../clv_data/";1==live&&(dir="../../../clv_data/"),module.exports={usrSave:usrSave,usrLoad:usrLoad,wspSave:wspSave,wspLoad:wspLoad};